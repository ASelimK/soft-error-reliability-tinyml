# soft-error-reliability-tinyml/README

## What does this code do?
It evaluates the results gathered from fault-injected STM32-L476RgTx microcontroller while it is executing TinyML algorithms.
### Workflow of the fault injection process:
1. Start the inference
2. Start the timer interrupt which makes bitflip
3. Stop the timer when a fault is injected
4. **PRINT THE RESULTS TO THE PUTTY TERMINAL**
5. (Go back to step 1, repeat 500 times)
### Explanation of the Program
In the 4th step, the inference (or matrix multiplication) results are printed to the terminal. 
To detect the anomalies in the results we wrote Python programs. 
This repository holds the Python programs and some of the files analyzed with them.  
### Example Usage
___
![test-phases](https://github.com/user-attachments/assets/453e5acc-6fc2-4c87-994c-82967645dcbd)
___
![test-phases-inspect](https://github.com/user-attachments/assets/43f2c9c3-396d-4186-b3c9-4280740dee3a)
___
In the above screenshots we can see the phases of the fault detection process. To make a detection:
1. Run the program -> it will generate a file xyz
2. Search "error" keyword in the xyz file
3. Select an iteration which you want to inspect
4. Go to that iteration from the log file generated by STM32
5. Inspect the error
### Meaning of the Example Usage
269 errors are found out of 2000 tests. That means the **Silent Data Corruption** ratio by **memory fault injection** of the **Matrix Multiplication** algorithm is **%13,45**  as represented below (it is figure 4 in the research paper). 
___
![figure-4-indicated](https://github.com/user-attachments/assets/4799ff38-61bd-419c-8dff-a0e88318aecc)
___
## About the Paper - Soft Error Reliability Assessment of TinyML Algorithms on STM32 Microcontroller
### Abstract of the Paper
_Ultra-low-power and low-cost microcontrollers are
converging with the recently popular concept of Tiny Machine
Learning (TinyML) to run such algorithms on memory and
latency-constrained devices. Although they are frequently used
in autonomous drives such as unmanned aerial vehicles (drones),
their reliability is often overlooked. In this study, we analyze the
soft-error reliability of various TinyML algorithms executing on
an STM32L4 series microcontroller. We implemented a low-level
fault injector that can inject faults with timer interrupts in the
form of a random bit flip in registers/memory during inference. A
total of 24,794 tests were conducted across Motion Detection, Im-
age Recognition, and Visual Wake Words as TinyML algorithms
and a matrix multiplication application. Our experimental results
revealed that soft errors can substantially affect such algorithms,
with vulnerabilities differing across registers and memory with
different crash and silent data corruption (SDC) rates. These
findings underscore the importance of tailored fault tolerance
strategies for enhancing the reliability of TinyML models._
### Index Terms
_Soft-error reliability, embedded systems, TinyML, STM32._
### More information can be found in our paper:
Karakus, A.S., Goktas, O.B., Akgedik, S.,  Arslan S. "Soft Error Reliability Assessment of TinyML Algorithms on STM32 Microcontroller". UBMK (2024). 

## Contact Information
### Advisor:
- sanem.arslan@marmara.edu.tr
### Students:
- osmanbugrag@gmail.com
- sadikakgedik1@gmail.com
- selim8karakus@gmail.com
